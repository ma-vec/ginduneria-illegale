:root {
    --bg: #050506;
    --surface: #0f1112;
    --muted: #9aa0a6;
    --accent: #D4AF37;
    --accent-soft: rgba(212,175,55,0.12);
    --glass: rgba(255,255,255,0.03);
    --radius: 16px;
    --page-pad: 12%;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

html, body {
    height: 100%;
    background: var(--bg);
    color: #fff;
    font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
}

/* Smooth scroll container */
.container{
    height:100vh;
    overflow-y: auto;
    scroll-snap-type: y mandatory;
    scroll-behavior: smooth;
    padding: 0;
}
.container::-webkit-scrollbar{ display: none; }

section{ height:100vh; scroll-snap-align:start; display:flex; align-items:center; justify-content:center; position:relative; padding: 0 calc(var(--page-pad)); }

/* HERO SECTION - minimal ma sofisticato */
.hero{
    width:100%;
    min-height:100vh;
    display:flex; flex-direction:column; gap:1.5rem; align-items:center; justify-content:center;
    background: linear-gradient(180deg, rgba(255,255,255,0.02) 0%, transparent 40%);
    position:relative; overflow:visible;
}

.hero::before{
    content: '';
    position: absolute; inset: 0; z-index:0;
    background: radial-gradient(600px 400px at 25% 25%, var(--accent-soft), transparent 35%);
    pointer-events:none; opacity:0.96;
    transition: opacity .25s linear;
}

.hero h1{
    font-family: 'Playfair Display', Georgia, serif;
    font-weight: 500;
    font-size: clamp(2rem, 5vw, 3.6rem);
    line-height:1.08;
    color: #fff;
    text-align:center;
    z-index:2;
    letter-spacing: -0.01em;
}
.hero h1 .accent{ color: var(--accent); background: none; -webkit-text-fill-color: unset; }

.phrase-container{ position:relative; z-index:2; max-width:720px; width:100%; }
.dynamic-text{
    color: var(--muted);
    font-size: 1.05rem;
    line-height:1.7;
    text-align:center;
    min-height:2.4em;
    transition: color .25s ease, transform .25s ease, opacity .25s ease;
}
.dynamic-text.fade{ color: var(--accent); font-weight:500; transform: translateY(-4px); }
.dynamic-text.cta{
    margin-top:2rem; color:var(--accent); font-weight:600; letter-spacing:0.18em; text-transform:uppercase; cursor:pointer; display:inline-block;
    border-bottom:1px solid transparent; padding-bottom:3px; transition: all .28s cubic-bezier(.2,.9,.2,1);
}
.dynamic-text.cta:hover{ letter-spacing:0.22em; border-bottom-color:var(--accent); }

.scroll-progress{ position:absolute; bottom:34px; left:50%; transform:translateX(-50%); width:180px; height:3px; background: rgba(255,255,255,0.04); border-radius:999px; overflow:hidden; z-index:10; }
.progress-bar{ height:100%; width:0; background: linear-gradient(90deg,var(--accent), #f5e6b0); transition:width .12s linear; box-shadow: 0 6px 18px rgba(212,175,55,0.08); }

/* TERROIR & VIDEO */
.terroir{ background: transparent; position:relative; isolation:isolate; overflow:hidden; }
.video-container{ position:absolute; inset:0; z-index:1; }
.video-container video{ width:100%; height:100%; object-fit:cover; filter:brightness(.78) contrast(1.05); transition:transform .6s ease, filter .3s ease; }
.video-container video:hover{ transform: scale(1.02); filter:brightness(.85) contrast(1.08); }
.video-overlay{ position:absolute; inset:0; z-index:2; pointer-events:none; background: linear-gradient(180deg, rgba(10,10,10,0.35), rgba(10,10,10,0.55)); }

/* AUDIO BADGE - pulito, con supporto stato muted */
.audio-badge{
    position:absolute; right:28px; bottom:28px; z-index:10; display:flex; gap:.6rem; align-items:center;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    color: var(--accent); padding:10px 16px; border-radius:999px; border:1px solid rgba(212,175,55,0.12);
    backdrop-filter: blur(6px); cursor:pointer; transition:transform .22s ease, background .22s ease;
}
.audio-badge:hover{ transform: translateY(-3px); background: rgba(212,175,55,0.06); }
.audio-badge.muted{ opacity:.85; color:#fff; background: rgba(255,255,255,0.01); }
.audio-badge .icon{ font-size:1.15rem; }

/* Btn Svela Bottiglia - minimale ma evidente */
.btn-svela-bottiglia{
    position:absolute; left:50%; transform:translateX(-50%); bottom:78px; z-index:30;
    background: transparent; color:#fff; border-radius:999px; padding:10px 28px; font-family: 'Playfair Display', serif;
    font-size:1rem; letter-spacing:.12em; text-transform:uppercase; border:2px solid rgba(212,175,55,0.14);
    cursor: pointer; transition: transform .22s cubic-bezier(.2,.9,.2,1), box-shadow .22s ease, border-color .22s ease;
}
.btn-svela-bottiglia:hover{ transform: translateX(-50%) translateY(-4px) scale(1.02); border-color:var(--accent); box-shadow:0 10px 30px rgba(212,175,55,0.06); }

/* Modal Bottiglia - leggera e moderna */
.bottiglia-modal-overlay{
    position: absolute; inset:0; background: rgba(0,0,0,0.65); backdrop-filter: blur(6px); z-index:999; animation: fadeIn .28s ease forwards;
}
.bottiglia-modal{
    position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); z-index:10001; width:80%; max-width:820px; max-height:80vh;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    background-color: rgba(10,10,10,0.98);
    border-radius:18px; padding:18px; display:flex; justify-content:center; align-items:center; border:1px solid rgba(212,175,55,0.09);
    box-shadow: 0 30px 60px rgba(0,0,0,0.6); pointer-events:auto; animation: modalAppear .32s cubic-bezier(.2,.9,.2,1) forwards;
    /* Ensure modal content is sharp and not affected by overlay backdrop-filter */
    backdrop-filter: none; -webkit-backdrop-filter: none; isolation: isolate;
}
.bottiglia-modal img{ max-width:90%; max-height:72vh; width:auto; height:auto; object-fit:contain; border-radius:12px; filter: drop-shadow(0 18px 30px rgba(0,0,0,0.6)); }
.bottiglia-close{ position:absolute; top:-12px; right:-12px; width:44px; height:44px; border-radius:50%; background:var(--accent); color:#000; display:flex; align-items:center; justify-content:center; cursor:pointer; border:2px solid #fff; font-weight:700; z-index:10002; transition: transform .18s ease, background .18s ease; }
.bottiglia-close:hover{ transform: rotate(90deg) scale(1.06); background:#fff; color:var(--accent); border-color:var(--accent); }

/* Animazioni */
@keyframes modalAppear{ 0%{ opacity:0; transform:translate(-50%,-50%) scale(.96); } 100%{ opacity:1; transform:translate(-50%,-50%) scale(1); } }
@keyframes fadeIn{ from{ opacity:0 } to{ opacity:1 } }

/* Responsive adjustments - mantenere tutte le regole funzionali */
@media (max-width:768px){
    :root{ --page-pad: 8%; }
    .btn-svela-bottiglia{ bottom: auto; top: 70%; padding:10px 22px; font-size:.96rem; z-index:100; }
    .audio-badge{ right:14px; bottom:16px; padding:8px 12px; font-size:.86rem; }
    .bottiglia-modal-overlay{ position: fixed; inset:0; z-index:9999; }
    .bottiglia-modal{ position:fixed; width:86%; max-width:420px; max-height:72vh; min-height:300px; padding:12px; 
        background-color: rgba(10,10,10,0.98); backdrop-filter: none; -webkit-backdrop-filter: none; isolation: isolate; }
    .bottiglia-modal img{ max-height:60vh; }
    .bottiglia-close{ top:-10px; right:-10px; width:40px; height:40px; font-size:22px; }
}

@media (max-width:480px){
    .btn-svela-bottiglia{ top:65%; padding:8px 18px; font-size:.9rem; }
    .bottiglia-modal{ width:92%; min-height:250px; padding:8px; }
    .bottiglia-modal img{ max-height:50vh; }
    .bottiglia-close{ top:-8px; right:-8px; width:36px; height:36px; font-size:20px; }
}

@media (max-width:900px) and (orientation: landscape){
    .btn-svela-bottiglia{ top:60%; }
    .bottiglia-modal{ width:70%; max-height:85vh; }
    .bottiglia-modal img{ max-height:70vh; }
}
